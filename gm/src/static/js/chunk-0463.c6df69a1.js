(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0463"],{"7sLu":function(t,a,e){},IVzl:function(t,a,e){"use strict";var n=e("7sLu");e.n(n).a},iRYe:function(t,a,e){"use strict";e.d(a,"c",function(){return i}),e.d(a,"b",function(){return s}),e.d(a,"a",function(){return r});var n=e("t3Un");function i(t,a){return Object(n.a)({url:"/statistic/newly",method:"get",params:{reg:t,active:a}})}function s(t,a){return Object(n.a)({url:"/statistic/activity",method:"get",params:{login:t,last_login:a}})}function r(t){return Object(n.a)({url:"/statistic/user",method:"get",params:{day:t}})}},lAbF:function(t,a,e){"use strict";e.r(a);var n=e("QbLZ"),i=e.n(n),s=e("L2JU"),r=e("iRYe"),c=e("ygAv"),d=e("ProS"),u=e.n(d),l=(e("75ce"),e("lLGD"),e("Ynxi"),e("AH3D"),e("0o9m"),e("2w7y"),e("sRwP"),e("laiN"),{props:{sevenData1:{type:Array,default:function(){return[]}},sevenData2:{type:Array,default:function(){return[]}},sevenDay:{type:Array,default:function(){return["周一","周二","周三","周四","周五","周六","周日"]}},legendData:{type:Array,default:function(){return["第一条线","第二条线"]}}},watch:{sevenData1:{handler:function(t,a){this.initData()}},sevenData2:{handler:function(t,a){this.initData()}},sevenDay:{handler:function(t,a){this.initData()}}},mounted:function(){this.myChart=u.a.init(document.getElementById("line1")),this.initData()},methods:{initData:function(){var t={title:{text:"",subtext:""},tooltip:{trigger:"axis"},legend:{data:this.legendData},toolbox:{show:!0,feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:this.sevenDay},yAxis:{type:"value",axisLabel:{formatter:"{value} 人"}},series:[{name:this.legendData[0],type:"line",data:this.sevenData1,markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]},markLine:{data:[{type:"average",name:"平均值"}]}},{name:this.legendData[1],type:"line",data:this.sevenData2,markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]},markLine:{data:[{type:"average",name:"平均值"}]}}]};this.myChart.setOption(t)}}}),o=e("KHd+"),v=Object(o.a)(l,function(){var t=this.$createElement;return(this._self._c||t)("div",{staticStyle:{width:"80%",height:"400px"},attrs:{id:"line1"}})},[],!1,null,null,null);v.options.__file="index.vue";var y={name:"Dashboard",components:{sevenDay:v.exports},data:function(){return{day:{register:0,active:0,regTotal:0},registerData:[1,1,2,5,3,2,0],activeData:[11,11,15,13,12,13,10],sevenDay:[],legendData:["注册人数","活跃人数"]}},computed:i()({},Object(s.b)(["name","roles"])),mounted:function(){this.initSevenDay();var t=new Date;this.getDayData(Object(c.a)(t))},methods:{initSevenDay:function(){var t=this;this.sevenDay=[];for(var a=new Array(7),e=new Array(7),n=0,i=function(i){d=new Date,u=new Date(d.getTime()-864e5*i),l=Object(c.a)(u),t.sevenDay.push(l),o=t,Object(r.a)(l).then(function(t){a[7-i]=t.data.register,e[7-i]=t.data.active,7===++n&&(o.registerData=a,o.activeData=e)})},s=7;s>0;s--){var d,u,l,o;i(s)}},getDayData:function(t){var a=this;Object(r.a)(t).then(function(t){var e=t.data;a.day.active=e.active,a.day.register=e.register,a.day.regTotal=e.total})}}},f=(e("IVzl"),Object(o.a)(y,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"dashboard-container"},[e("div",{staticStyle:{display:"flex"}},[t._m(0),t._v(" "),e("div",{staticClass:"data_list"},[e("span",{staticClass:"data_num"},[t._v(t._s(t.day.register))]),t._v(" 新增用户")]),t._v(" "),e("div",{staticClass:"data_list"},[e("span",{staticClass:"data_num"},[t._v(t._s(t.day.active))]),t._v(" 活跃用户")])]),t._v(" "),e("div",{staticStyle:{display:"flex"}},[t._m(1),t._v(" "),e("div",{staticClass:"data_list"},[e("span",{staticClass:"data_num"},[t._v(t._s(t.day.regTotal))]),t._v(" 注册用户")])]),t._v(" "),e("sevenDay",{staticStyle:{"padding-top":"50px"},attrs:{"seven-data1":t.registerData,"seven-data2":t.activeData,"seven-day":t.sevenDay,"legend-data":t.legendData}})],1)},[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"data_list today_head"},[a("span",{staticClass:"data_num head"},[this._v("当日数据：")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"data_list all_head"},[a("span",{staticClass:"data_num head"},[this._v("总数据：")])])}],!1,null,"3c59e2f5",null));f.options.__file="index.vue";a.default=f.exports},ygAv:function(t,a,e){"use strict";function n(t){if("string"==typeof t)return function(t){var a=t.substring(0,4),e=t.substring(5,7),n=t.substring(8,10);return a+"-"+e+"-"+n}(t);var a=t.getFullYear(),e=t.getMonth()+1;e=e<10?"0"+e:e;var n=t.getDate();return a+"-"+e+"-"+(n=n<10?"0"+n:n)}e.d(a,"a",function(){return n})}}]);